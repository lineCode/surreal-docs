// This file stylizes the API documentation (stuff generated by autodoc). It's
// deeply nested due to how autodoc structures the HTML without enough classes
// to select the relevant items.

// API docs!
dl[class]:not(.option-list):not(.field-list):not(.footnote):not(.glossary):not(.simple)
  // Tweak the spacing of all the things!
  dd
    margin-left: 2rem
    > :first-child
      margin-top: 0.125rem
    > :last-child
      margin-bottom: 0.75rem

  // This is used for the arguments
  .field-list
    margin-bottom: 0.75rem

    // "Headings" (like "Parameters" and "Return")
    > dt
      text-transform: uppercase
      font-size: var(--font-size--small)

    dd:empty
      margin-bottom: 0.5rem
    dd > ul
      margin-left: -1.2rem
      > li
        > p:nth-child(2)
          margin-top: 0
        // When the last-empty-paragraph follows a paragraph, it doesn't need
        // to augument the existing spacing.
        > p + p:last-child:empty
          margin-top: 0
          margin-bottom: 0

  // Colorize the elements
  > dt
    color: var(--color-api-overall)

.sig
  font-weight: bold

  font-size: var(--api-font-size)
  font-family: var(--font-stack--monospace)

  padding-top: 0.25rem
  padding-bottom: 0.25rem
  padding-right: 0.5rem

  // These are intentionally em, to properly match the font size.
  padding-left: 3em
  text-indent: -2.5em

  border-radius: 0.25rem

  background: var(--color-api-background)

  &:hover
    background: var(--color-api-background-hover)

  // adjust the size of the [source] link on the right.
  a.reference
    .viewcode-link
      font-weight: normal
      width: 3.5rem

  // Break words when they're too long
  span.pre
    overflow-wrap: anywhere

em.property
  font-style: normal
  &:first-child
    color: var(--color-api-keyword)
.sig-name
  color: var(--color-api-name)
.sig-prename
  font-weight: normal
  color: var(--color-api-pre-name)
.sig-paren
  color: var(--color-api-paren)
.sig-param
  font-style: normal

.versionmodified
  font-style: italic
div.versionadded, div.versionchanged, div.deprecated
  p
    margin-top: 0.125rem
    margin-bottom: 0.125rem

code
  font-size: 14px
  background: var(--color-background-secondary)
  font-family: var(--font-stack--monospace)
  border-radius: 0.2rem
  padding: 0.2rem 0.4rem
  color: var(--color-foreground-primary)
  overflow-x: auto
  word-break: break-all
  &::-webkit-scrollbar
    height: 0.4rem

// Align the [docs] and [source] to the right.
.viewcode-link, .viewcode-back
  float: right
  text-align: right

.api-header
  margin-top: 1.25rem
  display: flex

.api-enity-type
  margin: 0
  align-self: flex-start
  color: var(--color-foreground-muted)
  text-transform: uppercase

.api-counterpart
  margin: 0
  margin-left: auto
  align-self: flex-end
  cursor: pointer
  text-align: right

.api-article h1
  margin-top: 0

.api-since, .api-index-since
  color: var(--color-foreground-muted)
  font-weight: lighter
  font-size: 0.9rem
  margin-left: 0.3rem
  font-family: var(--font-stack)

.api-option-since
  margin-left: 0

.api-sub-index
  line-height: 1.1

.api-sub-index li
  list-style-type: none
  padding-left: 0
  margin-bottom: 1.4em

.native-class-article #methods .api-sub-index li,
.native-class-article #fields .api-sub-index li
  margin-bottom: 1.6em

.api-entity-preview
  display: flex

.api-index-link
  cursor: pointer

.api-sub-index-native, .api-index-link-native
  font-family: var(--font-stack--monospace)
  text-decoration-color: var(--color-link-api)

.api-sub-index-native
  color: var(--color-foreground-secondary)

.api-index-link-native
  color: var(--color-link-api)
  font-weight: 500

.api-sub-index .api-umacro, .api-sub-index .api-template
  margin-bottom: 0
  margin-top: 0
  color: var(--color-foreground-secondary)

.api-template a
  cursor: pointer

.api-native-heading
  font-family: var(--font-stack--monospace)

.api-heading-namespace
  font-size: 1.25em
  line-height: 1
  margin: 0
  margin-top: 0.3em
  color: var(--color-foreground-muted)

.api-native-definition, .api-path, .api-blueprint-parameter-type, .api-native-parameter-type
  background: var(--color-background-secondary)
  font-family: var(--font-stack--monospace)
  border-radius: 0.2rem
  padding: 0.5rem
  line-height: 1.2
  margin-bottom: 1.4em
  font-size: 0.86em
  a
    cursor: pointer

.api-native-definition
  font-size: 0.82em

.api-blueprint-type
  font-family: var(--font-stack)

.api-path
  padding: 0.3rem
  color: var(--color-foreground-primary)
  word-break: break-all

.api-definition-options
  display: block
  font-size: var(--font-size--small--2)
  margin: 0
  margin-bottom: 1em
  padding: 0
  list-style-type: none

.api-definition-option
  display: inline

.api-definition-option::before
  content: "•"
  margin: 0 0.5em

.api-definition-option:first-child
  padding: 0

.api-definition-option:first-child::before
  content: ""
  margin: 0

.api-keyword
  color: var(--color-api-name)

/* preview not keyword */
.api-preview-nk
  color: var(--color-foreground-primary)

.param
  visibility: hidden

.api-mc
  display: flex

.api-definition-umacro
  text-transform: uppercase

.api-template-param-index:last-child
  margin-bottom: 0

.api-native-parameter .api-native-definition
  padding: 0.3rem

.api-preview-definition
  padding: 0.5em
  padding-top: 0.3em
  padding-left: 0
  display: flex
  flex-direction: column
  box-sizing: border-box
  line-height: 1.2
  position: relative

body[data-theme="dark"] .api-preview-definition
  font-weight: 300

@media(prefers-color-scheme: dark)
  body[data-theme="auto"] .api-preview-definition
    font-weight: 300

.api-preview-definition *, .api-preview-definition
  font-size: 0.75rem

.api-native-function-complement
  margin-top: -0.5em

.api-property-deprecated
  color: var(--color-foreground-primary)
  font-family: var(--font-stack)
  margin-bottom: 0.5rem

.api-native-property-deprecated
  font-family: var(--font-stack--monospace)

.api-native-deprecated
  text-decoration-color: var(--color-foreground-muted)

.api-native-deprecated a, .api-blueprint-deprecated a
  text-decoration: line-through
  text-decoration-color: var(--color-foreground-muted)
  /* dirty hacks to make different color of underline and striketrough for links*/
  background: linear-gradient(var(--color-link-underline), var(--color-link-underline)) 0 calc(100% - 0.12rem) / 100% 1px no-repeat

.api-native-deprecated a:hover, .api-blueprint-deprecated a:hover
  background: linear-gradient(var(--color-link-underline--hover), var(--color-link-underline--hover)) 0 calc(100% - 0.12rem) / 100% 1px no-repeat

.api-entity-deprecated
  text-decoration: line-through
  text-decoration-color: var(--color-foreground-primary)

.api-tab1
  visibility: hidden

.api-tab1::before
  content: "1"

.api-tab2
  visibility: hidden

.api-tab2::before
  content: "11"

.api-tab4
  visibility: hidden

.api-tab4::before
  content: "1111"

.api-native-definition-comment
  color: var(--color-foreground-muted)

.api-native-property-see
  font-family: var(--font-stack)
  font-style: italic

.see-also-list li
  font-size: 16px

.api-access
  margin: 1em 0
  margin-left: -1em
  color: var(--color-foreground-primary)
  font-size: var(--font-size--small)
  display: flex
  align-items: center
  font-family: var(--font-stack)

.api-line
  margin-left: 1em
  height: 1px
  display: inline-block
  width: 100%
  border-bottom: 1px solid var(--color-background-border)

.api-umacro
  margin-bottom: 0.1em

//.api-umacro, .api-template, .api-native-pre-func
//  font-size: 0.8rem

.api-options
  margin-bottom: 0.25em
  color: var(--color-foreground-secondary)
  font-family: var(--font-stack)
  display: inline-block
  flex-direction: row
  padding: 0
  list-style-type: none
  text-space-collapse: discard
  font-size: 0.75rem

.api-options:empty
  display: none

.api-options p, .api-option
  display: inline

.api-options .api-option
  margin-bottom: 0.1em

.api-end-select
  width: 0
  opacity: 0
  display: inline-block

.api-option::before, .api-options p::before
  content: "•"
  margin: 0 0.35em 0 0.35em
  text-decoration: none

.api-option:first-child, .api-options p:first-child
  ::before
    display: none
  margin-left: 0

.api-option:first-child::before, .api-options p:first-child::before
  display: none

.api-sub-index-description
  font-family: var(--font-stack)
  //font-size: 0.9rem

.api-sub-index-native .api-sub-index-description
  color: var(--color-foreground-primary)

.api-sub-index-description p:last-child
  margin-bottom: 0

.api-name
  word-break: break-word

.api-blueprint-function
  margin: 0.4em 0
  display: flex

.api-blueprint-function-preview
  color: var(--color-foreground-primary)

.api-blueprint-function-signature-image, .api-blueprint-function-image
  display: block

.api-blueprint-param-out
  text-transform: lowercase
  padding-left: 0.2em
  color: var(--color-foreground-secondary)

.api-blueprint-type-image
  width: 1.2em
  height: 1.2em
  margin-right: 0.5em
  position: relative
  top: +0.26em

.api-native-parameter-type, .api-blueprint-property-type, .api-blueprint-parameter-type
  padding: 0.3em
  display: inline

.api-access-definition-option
  text-transform: capitalize

.api-blueprint-parameter-default, .api-blueprint-property-default, .api-native-parameter-default
  font-size: 0.86em
  color: var(--color-foreground-secondary)
  padding: 0.3em 0

.api-native-parameter-name, .api-native-meta
  font-size: 0.86em

.api-native-parameter-default, .api-native-parameter-name, .api-native-meta
  font-family: var(--font-stack--monospace)

.api-blueprint-parameter .api-blueprint-definition, .api-blueprint-property .api-preview-definition-bp, .api-native-container
  display: inline-block
  line-height: 1.75

.api-blueprint-parameter-name, .api-blueprint-property-name, .api-native-parameter-name
  padding: 0.3em 0 0.3em 0.2em

.api-blueprint-parameter-name, .api-native-parameter-name
  font-size: 0.86em

.api-index
  margin: 0
  padding: 0

.api-index-element
  list-style-type: none
  margin-bottom: 1.4em

.api-index-element-description
  padding-left: 1em

.api-spaces
  white-space: pre-wrap

.api-native-default
  color: var(--color-foreground-secondary)

.api-blueprint-type-opt
  color: var(--color-foreground-secondary)

.api-blueprint-deprecation-image-filter
  filter: grayscale(1)

.api-definition-options:empty
  display: none

.api-blueprint-function-image-wrapper
  margin-bottom: 1.4em

.api-delegate-image
  margin-top: 0.5rem

.api-name.api-blueprint-module-name
  font-size: 0.85rem
